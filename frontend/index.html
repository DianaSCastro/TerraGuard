<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de An√°lisis de Riesgos</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
          
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
</head>
<body>

    <header>
        <div class="header-logo">
            <span class="logo-icon">üõ°Ô∏è</span>
            <div class="header-user">
                <strong>Panel de Empresa</strong>
                <span>a@gmail.com</span>
            </div>
        </div>
        <button class="btn btn-secondary">
            <span class="material-icons-outlined">logout</span>
            Cerrar Sesi√≥n
        </button>
    </header>

    <nav class="tabs">
        <a href="#" class="tab-item">
            <span class="material-icons-outlined">badge</span>
            Credenciales
        </a>
        <a href="#" class="tab-item">
            <span class="material-icons-outlined">bar_chart</span>
            M√©tricas
        </a>
        <a href="#" class="tab-item active">
            <span class="material-icons-outlined">description</span>
            Informaci√≥n de Propiedad
        </a>
        <a href="#" class="tab-item">
            <span class="material-icons-outlined">dashboard</span>
            Dashboard y An√°lisis
        </a>
    </nav>

    <main id="form-view" class="main-container">
        <div class="form-container">
            <div class="form-header">
                <span class="material-icons-outlined form-icon">description</span>
                <div class="form-header-text">
                    <h2>Informaci√≥n de la Propiedad a Asegurar</h2>
                    <p>Complete los datos de la propiedad para generar el an√°lisis de riesgo</p>
                </div>
            </div>

            <form id="analysis-form">
                <section class="form-section">
                    <h3>Informaci√≥n de la Compa√±√≠a</h3>
                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="contact-name">Nombre de Contacto *</label>
                            <input type="text" id="contact-name" placeholder="Ej: Juan P√©rez">
                        </div>
                        <div class="form-group">
                            <label for="company-id">Clave de Registro de la Compa√±√≠a</label>
                            <input type="text" id="company-id" placeholder="Ej: COMP-12345">
                        </div>
                        <div class="form-group">
                            <label for="agent-id">Clave del Agente</label>
                            <input type="text" id="agent-id" placeholder="Ej: AGT-67890">
                        </div>
                        <div class="form-group">
                            <label for="company-name">Nombre/Raz√≥n Social *</label>
                            <input type="text" id="company-name" placeholder="Ej: Seguros ABC S.A.">
                        </div>
                    </div>
                </section>

                <section class="form-section">
                    <h3>Informaci√≥n de la Propiedad</h3>
                    <div class="form-grid-1">
                        <div class="form-group">
                            <label for="fiscal-address">Domicilio Fiscal</label>
                            <input type="text" id="fiscal-address" placeholder="Ej: Av. Principal 123, Col. Centro, CP 12345">
                        </div>
                    </div>
                    <div class="form-grid-1">
                        <div class="form-group">
                            <label for="property-address">Direcci√≥n Exacta de la Propiedad a Asegurar *</label>
                            <input type="text" id="property-address" placeholder="Ej: Calle Secundaria 456, Col. Residencial">
                        </div>
                    </div>
                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="lat">Latitud *</label>
                            <input type="text" id="lat" placeholder="Ej: 19.432608" required>
                        </div>
                        <div class="form-group">
                            <label for="lon">Longitud *</label>
                            <input type="text" id="lon" placeholder="Ej: -99.133209" required>
                        </div>
                        <div class="form-group">
                            <label for="year">A√±o (Opcional)</label>
                            <input type="number" id="year" placeholder="Ej: 2030 (para predicci√≥n)">
                        </div>
                    </div>
                </section>
                
                <div class="form-footer">
                    <div id="error-message" class="error-message"></div>
                    <button type="submit" id="analyze-btn" class="btn btn-primary btn-lg">
                        <span class="material-icons-outlined">send</span>
                        Generar An√°lisis de Riesgo
                    </button>
                </div>
            </form>
        </div>
    </main>

    <main id="dashboard-view" class="main-container" style="display: none;">
        <div class="dashboard-header">
            <div>
                <h2>An√°lisis de Riesgo - <span id="doc-id">AEGSRHTDJYFKUGI</span></h2>
                <p>Documento: <span id="doc-ref">REWTYJ</span> | Cliente: <span id="client-ref">SDFDNGMFH,GJ</span></p>
            </div>
            <button id="back-to-form-btn" class="btn btn-secondary">
                <span class="material-icons-outlined">arrow_back</span>
                Volver al Formulario
            </button>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-col-main">
                <div class="card">
                    <h3>Ubicaci√≥n de la Propiedad</h3>
                    <div id="map-dashboard"></div>
                </div>
                
                <div id="result-riesgo-general-card" class="card card-riesgo-general">
                    <span class="material-icons-outlined card-icon">warning_amber</span>
                    <h3>Riesgo General</h3>
                    <h1 id="result-riesgo-general-pct">--%</h1>
                    <p id="result-riesgo-general-level">--</p>
                </div>
            </div>

            <div class="dashboard-col-metrics">
                <div class="metrics-grid">
                    <div class="card card-metric">
                        <h4>Riesgo S√≠smico</h4>
                        <h2 id="result-sismico-pct">--%</h2>
                        <progress id="progress-sismico" max="100" value="0"></progress>
                    </div>
                    <div class="card card-metric">
                        <h4>Riesgo de Inundaci√≥n</h4>
                        <h2 id="result-inundacion-pct">--%</h2>
                        <progress id="progress-inundacion" max="100" value="0"></progress>
                    </div>
                    <div class="card card-metric">
                        <h4>Riesgo de Huracanes</h4>
                        <h2 id="result-huracan-pct">--%</h2>
                        <progress id="progress-huracan" max="100" value="0"></progress>
                    </div>
                    <div class="card card-metric">
                        <h4>Riesgo de Incendios</h4>
                        <h2 id="result-incendio-pct">--%</h2>
                        <progress id="progress-incendio" max="100" value="0"></progress>
                    </div>
                    <div class="card card-metric">
                        <h4>Riesgo por Precipitaci√≥n</h4>
                        <h2 id="result-precipitacion-pct">--%</h2>
                        <progress id="progress-precipitacion" max="100" value="0"></progress>
                    </div>
                    <div class="card card-metric">
                        <h4>Riesgo por Vegetaci√≥n</h4>
                        <h2 id="result-vegetacion-pct">--%</h2>
                        <progress id="progress-vegetacion" max="100" value="0"></progress>
                    </div>
                </div>

                <div class="card card-ai">
                    <span class="material-icons-outlined card-icon">auto_awesome</span>
                    <div>
                        <h3>An√°lisis Gemini AI</h3>
                        <p id="result-ai-summary">Evaluaci√≥n automatizada basada en inteligencia artificial. Ingrese datos para generar un an√°lisis.</p>
                    </div>
                </div>

                <div class="form-footer">
                    <button class="btn btn-export">
                        <span class="material-icons-outlined">download</span>
                        Exportar Reporte PDF
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
            
    <script src="script.js"></script>
</body>
</html>